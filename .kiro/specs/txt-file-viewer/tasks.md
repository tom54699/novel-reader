# Implementation Plan

- [ ] 1. 建立專案基礎架構和開發環境
  - 使用 Vite + React + TypeScript 建立專案骨架
  - 配置 ESLint、Prettier 等開發工具
  - 建立基本的資料夾結構和檔案組織
  - 配置 GitHub Pages 部署設定
  - _Requirements: 6.4, 6.5_

- [ ] 2. 定義核心資料模型和型別
  - 建立 TypeScript 介面定義 (Doc, SearchState, AppState)
  - 實作工具函數 (UUID 生成、檔案驗證、正則轉義)
  - 撰寫工具函數的單元測試
  - _Requirements: 1.6, 1.7, 6.1, 6.2, 6.3_

- [ ] 3. 實作檔案上傳和驗證功能
  - 建立檔案選擇器觸發邏輯
  - 實作檔案格式驗證 (.txt 限制)
  - 實作檔案大小驗證 (5MB 限制)
  - 實作 UTF-8 編碼讀取和錯誤處理
  - 撰寫檔案處理相關的單元測試
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5_

- [ ] 4. 建立應用程式主要佈局結構
  - 實作 App 元件的基本結構和狀態管理
  - 建立三欄式佈局 (Sidebar, ContentView, BottomBar)
  - 實作基本的 CSS 樣式和響應式設計
  - 確保佈局符合設計規格 (280px 側邊欄等)
  - _Requirements: 2.1, 2.2_

- [ ] 5. 實作左側檔案清單元件 (Sidebar)
  - 建立 Sidebar 元件和相關介面
  - 實作檔案清單的顯示邏輯
  - 實作 hover 效果和作用中狀態樣式
  - 實作長檔名的中間截斷顯示
  - 實作檔案選擇和切換功能
  - 撰寫 Sidebar 元件測試
  - _Requirements: 2.2, 2.3, 2.4, 2.5, 2.6_

- [ ] 6. 實作右側內容顯示元件 (ContentView)
  - 建立 ContentView 元件和相關介面
  - 實作聊天氣泡風格的內容排版
  - 設定內容區域的樣式 (最大寬度 760px, 行高 1.7)
  - 實作等寬字型和格式保留
  - 實作自動分段和換行處理
  - 撰寫 ContentView 元件測試
  - _Requirements: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8_

- [ ] 7. 實作捲軸位置記憶功能
  - 實作捲軸事件監聽和位置記錄
  - 實作檔案切換時的位置保存邏輯
  - 實作返回檔案時的位置還原功能
  - 撰寫捲軸記憶功能的整合測試
  - _Requirements: 2.7, 2.8, 3.9_

- [ ] 8. 實作底部工具列元件 (BottomBar)
  - 建立 BottomBar 元件和相關介面
  - 實作搜尋輸入框和 placeholder
  - 實作「+」按鈕和檔案選擇觸發
  - 設定工具列的固定定位和寬度調整
  - 撰寫 BottomBar 元件測試
  - _Requirements: 4.1, 4.2, 4.3_

- [ ] 9. 實作全文搜尋核心功能
  - 實作搜尋演算法 (不分大小寫正則搜尋)
  - 實作搜尋結果的位置記錄和統計
  - 實作即時搜尋觸發邏輯
  - 撰寫搜尋演算法的單元測試
  - _Requirements: 4.4, 4.5, 4.6_

- [ ] 10. 實作搜尋結果高亮顯示
  - 實作搜尋關鍵字的高亮標記
  - 實作當前命中項目的特殊標示
  - 整合高亮功能到 ContentView 元件
  - 撰寫高亮顯示的視覺測試
  - _Requirements: 4.6, 4.12_

- [ ] 11. 實作搜尋結果導航功能
  - 實作下一個/上一個搜尋結果跳轉
  - 實作搜尋結果計數顯示
  - 實作平滑捲動到目標位置
  - 實作自動捲動至可視範圍
  - 撰寫搜尋導航的整合測試
  - _Requirements: 4.7, 4.8, 4.9, 4.10, 4.11, 4.12_

- [ ] 12. 實作鍵盤快捷鍵支援
  - 實作 Ctrl/Cmd+F 聚焦搜尋框
  - 實作 Enter 鍵跳轉下一個搜尋結果
  - 實作 Shift+Enter 跳轉上一個搜尋結果
  - 撰寫鍵盤操作的整合測試
  - _Requirements: 5.1, 5.2, 5.3_

- [ ] 13. 整合檔案上傳到完整應用流程
  - 整合檔案上傳邏輯到 App 元件
  - 實作上傳成功後的清單更新和內容顯示
  - 實作檔案加入清單頂部並設為作用中
  - 撰寫完整檔案上傳流程的端到端測試
  - _Requirements: 1.6, 1.7, 2.6_

- [ ] 14. 實作錯誤處理和使用者回饋
  - 實作各種錯誤情況的提示訊息
  - 確保錯誤發生時應用程式不崩潰
  - 實作載入狀態指示器
  - 撰寫錯誤處理的測試案例
  - _Requirements: 6.1, 6.2, 6.3_

- [ ] 15. 完善樣式和使用者體驗
  - 實作完整的 CSS 樣式系統
  - 調整色彩、字型和間距符合設計規格
  - 實作 hover 效果和互動回饋
  - 確保視覺設計的一致性
  - _Requirements: 2.2, 2.3, 2.4, 3.2, 3.3, 3.4_

- [ ] 16. 進行整合測試和效能最佳化
  - 執行完整的應用程式測試
  - 測試大檔案 (接近 5MB) 的處理效能
  - 測試多檔案切換的穩定性
  - 最佳化搜尋和渲染效能
  - _Requirements: 6.6_

- [ ] 17. 準備生產部署
  - 配置 Vite 建置設定
  - 最佳化打包大小和載入效能
  - 設定 GitHub Pages 自動部署
  - 建立部署文件和使用說明
  - _Requirements: 6.4, 6.5_